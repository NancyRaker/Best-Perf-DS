<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->

<!-- code_chunk_output -->
- [1. 登录](#1-登录)
- [1. 登录](#1-登录)
- [2. 退出](#2-退出)
- [3. 创建下级账户](#3-创建下级账户)
- [4. 账户信息以及下面的所有群组](#4-账户信息以及下面的所有群组)
- [5. 修改账户信息](#5-修改账户信息)
- [6. 修改账户密码](#6-修改账户密码)
- [7. 获取账户下级目录](#7-获取账户下级目录)
- [8. 删除调度员或者经销商的账号](#8-删除调度员或者经销商的账号)
- [9. 获取下级某个用户的所有设备](#9-获取下级某个用户的所有设备)
- [10. 转移设备](#10-转移设备)
- [11. 获取设备位置信息](#11-获取设备位置信息)
- [12. 获取设备列表，web调度员界面展示的列表](#12-获取设备列表web调度员界面展示的列表)
- [13. 获取账号名下所有的非设备成员](#13-获取账号名下所有的非设备成员)
- [14. 保存调度员邮箱地址，周报月报时间等](#14-保存调度员邮箱地址周报月报时间等)
- [15. 修改调度员邮箱地址，周报月报时间等](#15-修改调度员邮箱地址周报月报时间等)
- [16. 删除调度员邮箱地址，周报月报时间等](#16-删除调度员邮箱地址周报月报时间等)
- [17. 查询调度员邮箱地址，周报月报时间等](#17-查询调度员邮箱地址周报月报时间等)
- [18. 创建组  grpc](#18-创建组-grpc)
- [19. 更新组名  目前web只用改组名](#19-更新组名-目前web只用改组名)
- [20. 更新群内成员等级属性](#20-更新群内成员等级属性)
- [21. 删除组 grpc](#21-删除组-grpc)
- [22. 更新组成员  grpc](#22-更新组成员-grpc)
- [23. 获取单个群组信息](#23-获取单个群组信息)
- [24. 获取群组列表](#24-获取群组列表)
- [25. 导入设备](#25-导入设备)
- [26. 修改设备信息](#26-修改设备信息)
- [27. 查询设备打卡状态 TODO](#27-查询设备打卡状态-todo)
- [28. 调度员上传文件](#28-调度员上传文件)
- [29. 设备上传文件](#29-设备上传文件)
- [30. wifi 增删改](#30-wifi-增删改)
- [31. 获取wifi信息](#31-获取wifi信息)
- [33. 标签 增删改](#33-标签-增删改)
- [34. 获取标签信息](#34-获取标签信息)
- [35. 标签 任务 增删改](#35-标签-任务-增删改)
- [36. 单个任务详情查询](#36-单个任务详情查询)
- [37. 单个设备的任务查询](#37-单个设备的任务查询)
- [38. 获取轨迹回放数据](#38-获取轨迹回放数据)
- [39. im websocket](#39-im-websocket)
- [40. 获取设备日志](#40-获取设备日志)
- [41. 获取内部设备日志](#41-获取内部设备日志)
- [42. 更新设备日志打开状态](#42-更新设备日志打开状态)
- [45. 切换引擎](#45-切换引擎)

<!-- /code_chunk_output -->


### 1. 登录
请求协议：`http`

请求方式：`POST`

请求地址：`/account/login.do/account_name` 

请求参数：请求body中：username和pwd
``` json
{
	"username" : "account_name",
	"pwd" : "123456",
	"force_login" : "f"  // 非必须，如果带上，表示不管有没有用户在线，直接把前一个人挤掉
}
```

返回参数：body中：
``` json
{
	"success": true,
	"session_id": "c9f9173c-7cc8-44c3-81a8-7c72d9863f9a"
}
```

### 2. 退出
请求协议：`http`

请求方式：`POST`

请求地址：`/web-api/account/logout.do/account_name` 

请求参数：请求body中：username和pwd，请求头中添加返回的session_id
``` json
{
	"username" : "account_name"
}
```

返回参数：body中：
``` json
{
	"success": true,
	"msg": "SignOut is successful",
}
```
### 3. 创建下级账户   

请求协议：`http`

请求方式：`POST`

请求地址：`/web-api/account` 

请求参数：请求body必须包含username和pwd和用户类型
``` json
{
	"confirm_pwd" :"123456",    // 不能为空
	"pid": 5,    				// 不能为空
	"username": "liuyang06",   // 不能为空
	"nick_name": "nana123",   // 不能为空
	"pwd": "123456",     // 不能为空
	"role_id": 3,    // 不能为空
	"email": "123456789@qq.com",
	"privilege_id": 0,
	"contact": "",
	"state": "",
	"phone": "",
	"remark": "",
	"address": ""
}
```

返回参数：body中的session_id
``` json
{
	"success": true,
	"account_id": 1430   // 新创建的用户的id
}
```

### 4. 账户信息以及下面的所有群组
请求协议：`http`

请求方式：`GET`

请求地址：`/web-api/account/:account_name`   (`:account_name`代表账户名称，比如访问：`172.16.0.74:8080/account/tiger`,其中tiger为账户名称)  

请求参数：**请求头中添加返回的session_id**  

返回参数：body中：  （返回都是json格式）
``` json
{

	"message" :" 获取用户信息成功",
	"account_info" : "账户的信息",
	"device_list" ： "账户下所有的设备"
	"tree_data": "账户的层级关系"
}
```

### 5. 修改账户信息

请求协议：`http`

请求方式：`POST`

请求地址：`/web-api/account/info/update`

请求参数：**请求头中添加返回的session_id**   (以下字段json格式，可以为空)
``` json
{
    "id" : 115,
    "login_id" : 6,
    "nick_name" : "bitbo",
    "username" : "test003",
    "type_id" : 2,
    "phone" : 12345826977,
    "email" : "123456@qq.com",
    "address" : "深圳市深圳湾",
    "remark" : "调度员",
    "contact" : "0776-98958635",
}

```

返回参数：body中： 

``` json
{
    "success": "true",
    "msg":     "update account success",
}
```

### 6. 修改账户密码
请求协议：`http`

请求方式：`POST`

请求地址：`/web-api/account/pwd/update`

请求参数：**请求头中添加返回的session_id**  
``` go
{
	Id         string `json:"id"`    // 账户id
	OldPwd     string `json:"old_pwd"`
	NewPwd     string `json:"new_pwd"`
	ConfirmPwd string `json:"confirm_pwd"`
}
```

返回参数：body中： 
``` json
{
	"result": "success",
	"msg":    "Password changed successfully",
}
```

### 7. 获取账户下级目录
请求协议：`http`

请求方式：`POST`

请求地址：`/web-api/account_class/:accountId/:searchId`

请求参数：accountId是登录者的ip, searchId是需要获取的用户的下级目录的id **请求头中添加返回的session_id**  

返回参数：body中：  (以下字段json格式)

``` json
{
    "result": "success",
    "tree_data": {
        "id": 7,
        "account_name": "test002",
        "account_nickname": "dispatcher",
        "children": []
    }
}
```

### 8. 删除调度员或者经销商的账号
请求协议：`http`

请求方式：`GET`

请求地址：`/web-api//account_delete/:accountId/:deleteId`

请求参数：accountId是登录者的id, searchId是需要获取的用户的下级目录的id **请求头中添加返回的session_id**  

返回参数：body中：  (以下字段json格式)
``` json
{
    "account_info": ai,
    "devices":      deviceAll,
}   
```

### 9. 获取下级某个用户的所有设备
请求协议：`http`

请求方式：`GET`

请求地址：`/web-api/account_device/:accountId/:getAdviceId`

请求参数：accountId是登录者的id, searchId是需要获取的用户的下级目录的id **请求头中添加返回的session_id**  

返回参数：body中：  (以下字段json格式)

``` json
{
    "account_info": ai,
    "devices":      deviceAll,
}   
```

### 10. 转移设备

请求协议：`http`

请求方式：`POST`

请求地址：`/web-api/account_device/:accountId`

请求参数：accountId是登录者的id, **请求头中添加返回的session_id**  
```json
{ 
   "devices":[
        {
        "imei": "123457896012456"
        },
        {
        "imei": "123457896012456"
        }
   ],
   "receiver": {
        "account_id": 115  
   },
   "sender": {
       "id":7
   }
}
```

返回参数：body中：  (以下字段json格式)

``` json
{
    "result": "success",
    "msg":    "trans successful"
}
```

### 11. 获取设备位置信息

请求协议：`http`

请求方式：`POST`

请求地址：`/web-api/account_device_gps/:accountId`

请求参数：accountId是登录者的id, **请求头中添加返回的session_id**  
```json
{
   "DevicesIds":[17,18]
}
```

返回参数：body中：  (以下字段json格式)

``` json
{
    "result": "success",
    "msg":    "trans successful"
}
```

### 12. 获取设备列表，web调度员界面展示的列表
请求协议：`http`

请求方式：`GET`

请求地址：`/web-api/account_devices/:accountId`

请求参数：accountId是登录者的id, searchId是需要获取的用户的下级目录的id **请求头中添加返回的session_id**  

返回参数：body中：  (以下字段json格式)
``` json
{
    "device_list": [
        {
            "id": 185,
            "imei": "123456789777777",
            "user_name": "123456789777777",
            "nick_name": "777",
            "password": "777777",
            "account_id": 115,
            "create_time": "2019-08-29T11:02:40Z",
            "last_login_time": "2019-08-29T11:02:40Z",
            "change_time": "2019-10-24T02:58:44Z",
            "local_time": 0,
            "gps_data": null,
            "speed": 0,
            "course": 0,
            "device_type": "T28",
            "active_time": "",
            "sale_time": "",
            "online": 1,
            "wifi_des": "",
            "user_type": 1,
            "group_type": 0,
            "start_log": "0"
        },
        {
            "id": 199,
            "imei": "666676545678779",
            "user_name": "666676545678779",
            "nick_name": "779",
            "password": "678779",
            "account_id": 115,
            "create_time": "2019-09-02T14:54:59Z",
            "last_login_time": "2019-09-02T14:54:59Z",
            "change_time": "2019-09-02T14:54:59Z",
            "local_time": 0,
            "gps_data": null,
            "speed": 0,
            "course": 0,
            "device_type": "T28",
            "active_time": "",
            "sale_time": "",
            "online": 1,
            "wifi_des": "",
            "user_type": 1,
            "group_type": 0,
            "start_log": "0"
        },
        {
            "id": 200,
            "imei": "666776545678779",
            "user_name": "666776545678779",
            "nick_name": "779",
            "password": "678779",
            "account_id": 115,
            "create_time": "2019-09-02T15:07:06Z",
            "last_login_time": "2019-09-02T15:07:06Z",
            "change_time": "2019-09-02T15:07:06Z",
            "local_time": 0,
            "gps_data": null,
            "speed": 0,
            "course": 0,
            "device_type": "T28",
            "active_time": "",
            "sale_time": "",
            "online": 1,
            "wifi_des": "",
            "user_type": 1,
            "group_type": 0,
            "start_log": "0"
        },
        {
            "id": 15,
            "imei": "099000557259277",
            "user_name": "099000557259277",
            "nick_name": "dahu",
            "password": "259277",
            "account_id": 115,
            "create_time": "2019-06-06T06:38:00Z",
            "last_login_time": "2019-06-06T06:38:00Z",
            "change_time": "2019-11-06T04:07:55Z",
            "local_time": 0,
            "gps_data": null,
            "speed": 0,
            "course": 0,
            "device_type": "JW10",
            "active_time": "",
            "sale_time": "",
            "online": 1,
            "wifi_des": "",
            "user_type": 1,
            "group_type": 0,
            "start_log": "0"
        }
    ],
    "device_list_info": {
        "device_total": 16,
        "online_total": 0
    }
}  
```

### 13. 获取账号名下所有的非设备成员
请求协议：`http`

请求方式：`GET`

请求地址：`/web-api/account_junior/:accountId`

请求参数：accountId是登录者的id, searchId是需要获取的用户的下级目录的id **请求头中添加返回的session_id**  

返回参数：body中：  (以下字段json格式)
``` json
{
    "junior_accounts": [
        {
            "id": 6,
            "account_name": "test001",
            "account_nickname": "test"
        },
        {
            "id": 7,
            "account_name": "test002",
            "account_nickname": "dispatcher"
        },
        {
            "id": 115,
            "account_name": "test003",
            "account_nickname": "bitbo"
        },
        {
            "id": 156,
            "account_name": "asdaasd",
            "account_nickname": "leieleid"
        },
        {
            "id": 160,
            "account_name": "cxws111",
            "account_nickname": "asdaqw"
        },
        {
            "id": 178,
            "account_name": "longjuntest",
            "account_nickname": "longjuntest"
        },
        {
            "id": 197,
            "account_name": "xiejiang",
            "account_nickname": "xiejiang"
        },
        {
            "id": 198,
            "account_name": "ligg0066",
            "account_nickname": "nana123"
        },
        {
            "id": 204,
            "account_name": "leikunxiaohao",
            "account_nickname": "leikun"
        },
        {
            "id": 205,
            "account_name": "leididi002",
            "account_nickname": "dsadfa"
        },
        {
            "id": 206,
            "account_name": "ddddffff123",
            "account_nickname": "ddddffff123"
        },
        {
            "id": 209,
            "account_name": "xiejiang002",
            "account_nickname": "xiejiang002"
        },
        {
            "id": 220,
            "account_name": "fake_device_dis",
            "account_nickname": "jiazhanghao"
        }
    ]
}
```

### 14. 保存调度员邮箱地址，周报月报时间等
请求协议：`http`

请求方式：`POST`

请求地址：`/web-api/account_clock/:account-id`

请求参数：**cookie中添加返回的session_id** 

请求body内容：  

``` json
{
    "ops":1,    // 必填  1代表保存信息
    "detail_param": {
        "account_id": 115, // 必填 调度员id
        "report_email": "xxxqqq@qq.com",  // 选填  如果不填，默认不发周报月报，默认每个月1号这个时间点发送上个月的打卡情况
        "month_time": "08:00:00",       // 选填 如果不填，默认不发月报
        "day_time": "08:00:00"          // 选填 如果不填，默认不发周报
    }
}
```

### 15. 修改调度员邮箱地址，周报月报时间等
请求协议：`http`

请求方式：`POST`

请求地址：`/web-api/account_clock/:account-id`

请求参数：**cookie中添加返回的session_id** 

请求body内容：  

``` json
{
    "ops":2,    // 必填  2代表更新信息
    "detail_param": {
        "account_id": 115, // 必填 调度员id
        "report_email": "xxxqqq@qq.com",  // 选填  如果不填，默认不发周报月报，默认每个月1号这个时间点发送上个月的打卡情况
        "month_time": "08:00:00",       // 选填 如果不填，默认不发月报
        "day_time": "08:00:00"          // 选填 如果不填，默认不发周报
    }
}
```

### 16. 删除调度员邮箱地址，周报月报时间等
请求协议：`http`

请求方式：`POST`

请求地址：`/web-api/account_clock/:account-id`

请求参数：**cookie中添加返回的session_id** 

请求body内容：  

``` json
{
    "ops":3,    // 必填  3代表删除信息
    "detail_param": {
        "account_id": 115, // 必填 调度员id
        "report_email": "xxxqqq@qq.com",  // 选填  如果不填，默认不发周报月报，默认每个月1号这个时间点发送上个月的打卡情况
        "month_time": "08:00:00",       // 选填 如果不填，默认不发月报
        "day_time": "08:00:00"          // 选填 如果不填，默认不发周报
    }
}
```

### 17. 查询调度员邮箱地址，周报月报时间等
请求协议：`http`

请求方式：`GET`

请求地址：`/web-api/account_clock/:account-id`

请求参数：**cookie中添加返回的session_id** 

返回内容：  

``` json
{
    "detail": {
        "account_id": 115,
        "report_email": "xxxqqq@qq.com", // 如果这个值是空串，这个字段都会没有
        "day_time": "08:00:00"// 如果这个值是空串，这个字段都会没有，比如这个例子中month_time就是空串
    }
}

```
如果没有数据：
``` json
{}
```


***
*群组相关：*
***

### 18. 创建组  grpc
请求协议：`http`

请求方式：`POST`

请求地址：`/web-api/group`

请求参数：**cookie中添加返回的session_id** 


``` json
{
  "device_ids": [ -1 ],
  "group_info": {
    "group_name": "重庆组",    // 必须的
    "account_id": 6,         // 必须的
    "status": "1",  // 必须的 "2"代表临时组 "1"代表普通组 
    "c_time": "2019-03-18 10:28:26"
  }
}
```
返回参数：  

``` json
    "result": "success",
    "msg":    "Create group successfully",
```

### 19. 更新组名  目前web只用改组名

请求协议：`http`

请求方式：`POST`

请求地址：`/web-api/group/update`

请求参数：**cookie中添加返回的session_id** 

``` json
{
  "group_info": {
    "group_name": "重庆组",    // 必须的
    "account_id": 6,         // 必须的
    "status": "1",
    "c_time": "2019-03-18 10:28:26"
  }
}
```
返回参数：  

``` json
		"result": "success",
		"msg":    "Update group successfully",
```

### 20. 更新群内成员等级属性

请求协议：`http`

请求方式：`POST`

请求地址：`/web-api/group_manager/update`

请求参数：**cookie中添加返回的session_id**  

``` json
{
	 "GId":2001,
	 "UId":[62,21],
	 "AccountId":115,
	 "RoleType":2 // 2代表UId里的di全改成管理员
}
```
返回参数：  

``` json
{
    "result": "success",
    "msg":    "Update group Manager successfully",
}
```

### 21. 删除组 grpc
请求协议：`http`

请求方式：`POST`

请求地址：`/web-api/group/delete`

请求参数：**cookie中添加返回的session_id**  


``` json
{
  "group_info": {
    "group_name": "重庆组",
    "account_id": 6,         // 必须的
    "status": "1",
    "c_time": "2019-03-18 10:28:26"
  }
}
```
返回参数：  

``` json
{
    "result": "success",
    "msg":    "Delete group successfully",
}
```

### 22. 更新组成员  grpc

请求协议：`http`

请求方式：`POST`

请求地址：`/web-api/group/devices/update`

请求参数：**cookie中添加返回的session_id**  

``` json
{
  "add_devices":[62, 65],
  "remove_devices":[],
  "group_info": {
    "group_name": "重庆组", 
    "account_id": 6,         // 必须的
    "status": "1",
  }
}
```
返回参数：  

``` json
{
    "result": "success",
    "msg":    "",
}
```


### 23. 获取单个群组信息
请求协议：`http`

请求方式：`GET`

请求地址：`/web-api/group/info/:accountId/:groupId`

请求参数：**cookie中添加返回的session_id** 

返回内容：  

``` json
{
    "device_infos": [
        {
            "id": 115,
            "imei": "1",
            "user_name": "test003",
            "nick_name": "bitbo",
            "password": "",
            "user_type": 2,
            "parent_id": "",
            "account_id": 0,
            "lock_group_id": 0,
            "create_time": "",
            "last_login_time": "",
            "change_time": "",
            "online": 1,
            "device_type": "\"no type\"",
            "active_time": "",
            "sale_time": "",
            "group_type": 3
        },
        {
            "id": 211,
            "imei": "355172100087947",
            "user_name": "355172100087947",
            "nick_name": "jw11b",
            "password": "",
            "user_type": 1,
            "parent_id": "",
            "account_id": 115,
            "lock_group_id": 193,
            "create_time": "",
            "last_login_time": "",
            "change_time": "",
            "online": 1,
            "device_type": "JW10",
            "active_time": "",
            "sale_time": "",
            "group_type": 1
        },
        {
            "id": 219,
            "imei": "355172100087962",
            "user_name": "355172100087962",
            "nick_name": "jw11a",
            "password": "",
            "user_type": 1,
            "parent_id": "",
            "account_id": 115,
            "lock_group_id": 193,
            "create_time": "",
            "last_login_time": "",
            "change_time": "",
            "online": 1,
            "device_type": "JW11",
            "active_time": "",
            "sale_time": "",
            "group_type": 1
        },
        {
            "id": 15,
            "imei": "099000557259277",
            "user_name": "099000557259277",
            "nick_name": "dahu",
            "password": "",
            "user_type": 1,
            "parent_id": "",
            "account_id": 115,
            "lock_group_id": 193,
            "create_time": "",
            "last_login_time": "",
            "change_time": "",
            "online": 1,
            "device_type": "JW10",
            "active_time": "",
            "sale_time": "",
            "group_type": 1
        }
    ],
    "group_info": {
        "id": 740,
        "group_name": "rrr group",
        "account_id": 115,
        "status": "",
        "c_time": "",
        "online_num": 0,
        "janus_num": 0,
        "group_manager": null,
        "group_owner": 115
    }
}
```
如果没有数据：
``` json
{}
```

### 24. 获取群组列表
请求协议：`http`

请求方式：`GET`

请求地址：`/web-api/group/info/:accountId/:groupId`

请求参数：**cookie中添加返回的session_id** 

返回内容：  

``` json
[
    {
        "device_infos": [
            {
                "id": 115,
                "imei": "1",
                "user_name": "test003",
                "nick_name": "bitbo",
                "password": "",
                "user_type": 2,
                "parent_id": "",
                "account_id": 0,
                "lock_group_id": 0,
                "create_time": "",
                "last_login_time": "",
                "change_time": "",
                "online": 1,
                "device_type": "\"no type\"",
                "active_time": "",
                "sale_time": "",
                "group_type": 3
            },
            {
                "id": 211,
                "imei": "355172100087947",
                "user_name": "355172100087947",
                "nick_name": "jw11b",
                "password": "",
                "user_type": 1,
                "parent_id": "",
                "account_id": 115,
                "lock_group_id": 193,
                "create_time": "",
                "last_login_time": "",
                "change_time": "",
                "online": 1,
                "device_type": "JW10",
                "active_time": "",
                "sale_time": "",
                "group_type": 1
            },
            {
                "id": 219,
                "imei": "355172100087962",
                "user_name": "355172100087962",
                "nick_name": "jw11a",
                "password": "",
                "user_type": 1,
                "parent_id": "",
                "account_id": 115,
                "lock_group_id": 193,
                "create_time": "",
                "last_login_time": "",
                "change_time": "",
                "online": 1,
                "device_type": "JW11",
                "active_time": "",
                "sale_time": "",
                "group_type": 1
            },
            {
                "id": 15,
                "imei": "099000557259277",
                "user_name": "099000557259277",
                "nick_name": "dahu",
                "password": "",
                "user_type": 1,
                "parent_id": "",
                "account_id": 115,
                "lock_group_id": 193,
                "create_time": "",
                "last_login_time": "",
                "change_time": "",
                "online": 1,
                "device_type": "JW10",
                "active_time": "",
                "sale_time": "",
                "group_type": 1
            }
        ],
        "group_info": {
            "id": 740,
            "group_name": "rrr group",
            "account_id": 115,
            "status": "",
            "c_time": "",
            "online_num": 0,
            "janus_num": 0,
            "group_manager": null,
            "group_owner": 115
        }
    },
    {
        "device_infos": [
            {
                "id": 115,
                "imei": "1",
                "user_name": "test003",
                "nick_name": "bitbo",
                "password": "",
                "user_type": 2,
                "parent_id": "",
                "account_id": 0,
                "lock_group_id": 0,
                "create_time": "",
                "last_login_time": "",
                "change_time": "",
                "online": 1,
                "device_type": "\"no type\"",
                "active_time": "",
                "sale_time": "",
                "group_type": 3
            },
            {
                "id": 186,
                "imei": "999900007777123",
                "user_name": "999900007777123",
                "nick_name": "123",
                "password": "",
                "user_type": 1,
                "parent_id": "",
                "account_id": 115,
                "lock_group_id": 0,
                "create_time": "",
                "last_login_time": "",
                "change_time": "",
                "online": 1,
                "device_type": "T28",
                "active_time": "",
                "sale_time": "",
                "group_type": 1
            },
            {
                "id": 202,
                "imei": "141425253636789",
                "user_name": "141425253636789",
                "nick_name": "789",
                "password": "",
                "user_type": 1,
                "parent_id": "",
                "account_id": 115,
                "lock_group_id": 0,
                "create_time": "",
                "last_login_time": "",
                "change_time": "",
                "online": 1,
                "device_type": "T28",
                "active_time": "",
                "sale_time": "",
                "group_type": 1
            },
            {
                "id": 203,
                "imei": "475869475869123",
                "user_name": "475869475869123",
                "nick_name": "123",
                "password": "",
                "user_type": 1,
                "parent_id": "",
                "account_id": 115,
                "lock_group_id": 0,
                "create_time": "",
                "last_login_time": "",
                "change_time": "",
                "online": 1,
                "device_type": "T28",
                "active_time": "",
                "sale_time": "",
                "group_type": 1
            },
            {
                "id": 15,
                "imei": "099000557259277",
                "user_name": "099000557259277",
                "nick_name": "dahu",
                "password": "",
                "user_type": 1,
                "parent_id": "",
                "account_id": 115,
                "lock_group_id": 193,
                "create_time": "",
                "last_login_time": "",
                "change_time": "",
                "online": 1,
                "device_type": "JW10",
                "active_time": "",
                "sale_time": "",
                "group_type": 1
            }
        ],
        "group_info": {
            "id": 741,
            "group_name": "uuu group",
            "account_id": 115,
            "status": "",
            "c_time": "",
            "online_num": 0,
            "janus_num": 0,
            "group_manager": null,
            "group_owner": 115
        }
    },
    {
        "device_infos": [
            {
                "id": 115,
                "imei": "1",
                "user_name": "test003",
                "nick_name": "bitbo",
                "password": "",
                "user_type": 2,
                "parent_id": "",
                "account_id": 0,
                "lock_group_id": 0,
                "create_time": "",
                "last_login_time": "",
                "change_time": "",
                "online": 1,
                "device_type": "\"no type\"",
                "active_time": "",
                "sale_time": "",
                "group_type": 3
            },
            {
                "id": 189,
                "imei": "989876545678888",
                "user_name": "989876545678888",
                "nick_name": "888",
                "password": "",
                "user_type": 1,
                "parent_id": "",
                "account_id": 115,
                "lock_group_id": 0,
                "create_time": "",
                "last_login_time": "",
                "change_time": "",
                "online": 1,
                "device_type": "T28",
                "active_time": "",
                "sale_time": "",
                "group_type": 1
            }
        ],
        "group_info": {
            "id": 744,
            "group_name": "ttt group",
            "account_id": 115,
            "status": "",
            "c_time": "",
            "online_num": 0,
            "janus_num": 0,
            "group_manager": null,
            "group_owner": 115
        }
    }
]
```
如果没有数据：
``` json
{}
```

### 25. 导入设备

请求协议：`http`

请求方式：`POST`

请求地址：`/web-api/device/import`

请求参数：**cookie中添加返回的session_id**  

``` json
{
	"account_id":1,
	"receiver":1,
	"devices":[
		{
            "id": 179,
            "imei": "123444455556666",
            "user_name": "989876545678909",
            "nick_name": "909",
            "password": "678909",
            "account_id": 1,
            "create_time": "2019-08-24 15:04:10",
            "last_login_time": "2019-08-24 15:04:10",
            "change_time": "2019-08-24 15:04:10",
            "local_time": 0,
            "gps_data": null,
            "speed": 0,
            "course": 0,
            "device_type": "T28",
            "active_time": "",
            "sale_time": "",
            "online": 1,
            "wifi_des": "",
            "user_type": 1,
            "group_type": 0
        }]
}
```
返回参数：  

``` json
{
    "result": "success",
    "msg":    "",
}
```

### 26. 修改设备信息

请求协议：`http`

请求方式：`POST`

请求地址：`/web-api/device/update`

请求参数：**cookie中添加返回的session_id**  

``` json
{
    "id": 179,
    "nick_name": "909",
    "start_log": "1" // 非必须
}
```
返回参数：  

``` json
{
    "result": "success",
    "msg":    "",
}
```

### 27. 查询设备打卡状态 TODO

请求协议：`http`

请求方式：`GET`

请求地址：`/web-api/device/clock/:account-id/:device-id/:start-timestamp`

请求参数：**cookie中添加返回的session_id** 

返回参数：  

``` json
{
    "tags": [
        {
            "id": 7,
            "tag_name": "标签DDD",
            "tag_addr": "兴东DDD",
            "account_id": 115,
            "import_timestamp": 1570215487,
            "uuid":"a7dbe513-ea08-4e32-a52c-74632bb89841"
        }
    ]
}
```

### 28. 调度员上传文件

请求协议：`http`

请求方式：`POST`

请求地址：`/web-api/upload `

请求参数：**cookie中添加返回的session_id**  

``` go
form表单参数：

file : 文件
id : 115 // 调度员id
SenderName : "王多鱼"
ReceiverType : 1   // 1 是发给单人  2 是发给群组
ReceiverId : 172  // 单人id或者群组id
ReceiverName ： 小强 
SendTime : 发送时间戳

```
返回参数：  

``` json
{
    "MsgCode": "1575280402",
    "code": 200,
    "msg": "Uploaded successfully",
    "resourceName": "64_1575280401_redis_ptt_y.mp3",
    "resourcePath": "https://www.yunptt.com/group1/M00/03/D6/eQ6Vtl3k316AKnFRAABVgFYIa8M402.mp3"
}
```

### 29. 设备上传文件

请求协议：`http`

请求方式：`POST`

请求地址：`/web-api/upload/device`

请求参数：**cookie中添加返回的session_id**  

``` go
form表单参数：

file : 文件
id : 115 // 调度员id
SenderName : "王多鱼"
ReceiverType : 1   // 1 是发给单人  2 是发给群组
ReceiverId : 172  // 单人id或者群组id
ReceiverName ：小强
SendTime : 发送时间戳
```

返回参数：  

``` json
{
    "MsgCode": "1575280402",
    "code": 200,
    "msg": "Uploaded successfully",
    "resourceName": "115_1575280401_redis_ptt_y.mp3",
    "resourcePath": "https://www.yunptt.com/group1/M00/03/D6/eQ6Vtl3k316AKnFRAABVgFYIa8M402.mp3"
}
```

### 30. wifi 增删改

请求协议：`http`

请求方式：`POST`

请求地址：`/web-api/wifi/:accountId`

请求参数：**cookie中添加返回的session_id**  

``` json
{
  "ops": 1, // 如果是1代表是保存wifi信息，如果是2就是更新wifi信息，如果是3就是删除wifi信息
  "wifis": [
    {
      "id":5, // 删除操作和更新操作必须带这个参数
      "bssId": "00:0c:43:76:21:79",  //所有操作都必须带这个参数
      "latitude":-25.100423444,
      "longitude":112.1254,
      "des": "几米18楼wifi"
    }
  ]
}
```

返回参数：  

``` json
{

}
```

### 31. 获取wifi信息

请求协议：`http`

请求方式：`GET`

请求地址：`/web-api/wifi/:accountId`

请求参数：**cookie中添加返回的session_id** 

返回参数：  

``` json
{
    "msg": {}
}
```

### 32. 标签 增删改

请求协议：`http`

请求方式：`POST`

请求地址：`/web-api/tags/:accountId`

请求参数：**cookie中添加返回的session_id**  

``` json

```

返回参数：  

``` json

```

### 33. 获取标签信息

请求协议：`http`

请求方式：`GET`

请求地址：`/web-api/tags/:accountId`

请求参数：**cookie中添加返回的session_id** 

返回参数：  

``` json
{
    "msg": {}
}
```

### 34. 标签任务 增删改

请求协议：`http`

请求方式：`POST`

请求地址：`/web-api/tag_tasks/:accountId`

请求参数：**cookie中添加返回的session_id**  

``` json

```

返回参数：  

``` json

```
### 35. 单个任务详情查询

请求协议：`http`

请求方式：`GET`

请求地址：`/web-api/tag_tasks/:account-id/:task-id`

请求参数：**cookie中添加返回的session_id** 

返回参数：  

``` json
{
    "msg": {}
}
```

### 36. 单个设备的任务查询

请求协议：`http`

请求方式：`GET`

请求地址：`/web-api/tag_tasks_device/:account-id/:device-id`

请求参数：**cookie中添加返回的session_id** 

返回参数：  

``` json
{
    "msg": {}
}
```

### 37. 获取轨迹回放数据

请求协议：`http`

请求方式：`GET`

请求地址：`/web-api/trace/:accountId/:deviceId/:start/:end`

请求参数：**cookie中添加返回的session_id** 

返回参数：  

``` json
{
    "msg": {}
}
```

### 38. im websocket

请求协议：`http`

请求方式：`GET`

请求地址：`/im-server/:accountId`

请求参数：**cookie中添加返回的session_id** 

返回参数：  

``` json
{
    "msg": {}
}
```

### 49. 获取设备日志

请求协议：`http`

请求方式：`GET`

请求地址：`/web-api/device/log/:accountId/:deviceId`

请求参数：**cookie中添加返回的session_id** 

返回参数：  

``` json
{
    "msg": {}
}
```

### 40. 获取内部设备日志列表

请求协议：`http`

请求方式：`GET`

请求地址：`/web-api/internal/account_devices/:account-id`

请求参数：**cookie中添加返回的session_id** 

返回参数：  

``` json
{
    "msg": {}
}
```

### 41. 更新设备日志打开状态

请求协议：`http`

请求方式：`POST`

请求地址：`/web-api/internal/device/update`

请求参数：**cookie中添加返回的session_id**  

``` json

```

返回参数：  

``` json

```

### 42. 切换引擎

请求协议：`http`

请求方式：`GET`

请求地址：`/web-api/db/engine/change`

请求参数：**cookie中添加返回的session_id** 

返回参数：  

``` json
{
    "msg": {}
}
```